// SCSS VARIABLES //

// Umbra or Polar?
$umbra: true !default;

// Font variables
$paragraph-font: "'Avenir Next LT Pro', 'Lato', sans-serif";
$header-font: "'Adelle', 'Times New Roman', serif";
$monospace-font: "'Fira Mono', 'Cousine', 'Consolas', monospace";

// Cyrillic font support
$cyrillic-font: false !default;
@if $cyrillic-font {
  $paragraph-font: "'Avenir Next Cyr', 'Lato', sans-serif";
  $header-font: "'Adelle Cyrillic', 'Times New Roman', serif";
}

// Alternative font support (supports Cyrillic, Greek, Vietnamese, among others)
$alt-font: false !default;
@if $alt-font {
  $paragraph-font: "'Open Sans', 'Lato', sans-serif";
  $header-font: "'Roboto Slab', 'Times New Roman', serif";
}

// Important colors for writing (text, links, code, etc.)
$bg-color: #1e2022 !default;
$text-color: #ddd !default;
$md-char-color: #5b5b5b !default;
$meta-content-color: #757575 !default;
$link-color: #6bcafb !default;
$mark-color: #105fa2eb !default;
$quote-color: #888e9c !default;
$code-bg-color: #282a36 !default;
$code-border-color: #ffffff26 !default;
$kbd-bg-color: #282a36 !default;
$selected-text-bg-color: #153b79 !default;

// Button and table colors
$primary-color: #428bca !default;
$primary-btn-border-color: #285e8e !default;
$accent-color: #3c3c3c !default;
$table-head-color: #4d4d4d !default;

// Active and hover colors
$active-file-bg-color: #1b1b1d !default;
$active-search-item-bg-color: #212121 !default;
$item-hover-bg-color: #2e2e2e !default;
$item-hover-text-color: #fff !default;

// Sidebar colors
$sidebar-bg-color: #2b2b2b !default;
$sidebar-bg-hover-color: $bg-color !default;
$sidebar-border-color: #19191c !default;
$sidebar-text-color: $text-color !default;
$search-hit-bg-color: #428bca40 !default;
$search-select-bg-color: #428bca90 !default;
$files-menu-hover-color: $bg-color !default;

// Tooltip and footnote colors
$tooltip-bg-color: $sidebar-bg-color !default;
$tooltip-text-color: $text-color !default;
$tooltip-border-color: #00000040 !default;
$footnote-sup-bg-color: #111 !default;
$footnote-tooltip-bg-color: #111 !default;
$footnote-tooltip-text-color: $text-color !default;

// Dropdown and footer colors
$dropdown-bg-color: $sidebar-bg-color !default;
$dropdown-hover-bg-color: $bg-color !default;
$dropdown-divider-color: $bg-color !default;
$footer-hover-color: $sidebar-bg-color !default;

// Megamenu colors
$megamenu-bg-color: $sidebar-bg-color !default;
$megamenu-text-color: $text-color !default;
$megamenu-hover-bg-color: #222 !default;
$megamenu-active-bg-color: #181818 !default;
$megamenu-sidebar-bg-color: $bg-color !default;
$megamenu-sidebar-hover-bg-color: #161819 !default;
$megamenu-sidebar-active-bg-color: #101010 !default;
$megamenu-button-border-color: #9292928f !default;

// Mermaid diagram colors
$mermaid-node-fill: $bg-color !default;
$mermaid-node-border: $code-border-color !default;
$mermaid-task-fill: #8a88c9 !default;
$mermaid-task-border: #5f5caf !default;
$mermaid-task-done-fill: #6b6b6b !default;
$mermaid-task-done-border: #3d3d3d !default;
$mermaid-task-active-fill: #737cff !default;
$mermaid-task-active-border: #413da0 !default;
$mermaid-task-crit-fill: #d66979 !default;
$mermaid-task-crit-border: #8f1d22 !default;

// FONT-FACES //

@if $cyrillic-font { // Cyrillic font-faces
  // Avenir Next Cyr provided by Adrian Frutiger and Akira Kobayashi.
  // Downloaded from `https://www.cufonfonts.com/font/avenir-next-cyr`
  @font-face {
    font-family: "Avenir Next Cyr";
    font-style: normal;
    font-weight: normal;
    src: local("Avenir Next Cyr Regular"), url("~@/assets/theme/ursine/AvenirNextCyr-Regular.woff") format("woff");
  }

  @font-face {
    font-family: "Avenir Next Cyr";
    font-style: italic;
    font-weight: normal;
    src: local("Avenir Next Cyr Italic"), url("~@/assets/theme/ursine/AvenirNextCyr-Italic.woff") format("woff");
  }

  @font-face {
    font-family: "Avenir Next Cyr";
    font-style: normal;
    font-weight: bold;
    src: local("Avenir Next Cyr Demi"), url("~@/assets/theme/ursine/AvenirNextCyr-Demi.woff") format("woff");
  }

  @font-face {
    font-family: "Avenir Next Cyr";
    font-style: italic;
    font-weight: bold;
    src: local("Avenir Next Cyr DemiItalic"), url("~@/assets/theme/ursine/AvenirNextCyr-DemiItalic.woff") format("woff");
  }

  // Adelle Cyrillic provided by Veronika Burian and Jos Scaglione
  // Downloaded from `https://www.cufonfonts.com/font/adelle-cyrillic`
  @font-face {
    font-family: "Adelle Cyrillic";
    font-style: normal;
    font-weight: normal;
    src: local("Adelle Cyrillic Light"), url("~@/assets/theme/ursine/AdelleCyrillic-Light.woff") format("woff");
  }

  @font-face {
    font-family: "Adelle Cyrillic";
    font-style: italic;
    font-weight: normal;
    src: local("Adelle Cyrillic Light Italic"), url("~@/assets/theme/ursine/AdelleCyrillic-LightItalic.woff") format("woff");
  }

  @font-face {
    font-family: "Adelle Cyrillic";
    font-style: normal;
    font-weight: bold;
    src: local("Adelle Cyrillic SemiBold"), url("~@/assets/theme/ursine/AdelleCyrillic-SemiBold.woff") format("woff");
  }

  @font-face {
    font-family: "Adelle Cyrillic";
    font-style: italic;
    font-weight: bold;
    src: local("Adelle Cyrillic SemiBold Italic"), url("~@/assets/theme/ursine/AdelleCyrillic-SemiBoldItalic.woff") format("woff");
  }
} @else if $alt-font { // Alternative font
  // Open Sans provided by Steve Matteson
  // Downloaded from `https://fonts.google.com/specimen/Open+Sans`
  @font-face {
    font-family: "Open Sans";
    font-style: normal;
    font-weight: normal;
    src: local("Open Sans Regular"), url("~@/assets/theme/ursine/OpenSans-Regular.ttf") format("ttf");
  }

  @font-face {
    font-family: "Open Sans";
    font-style: italic;
    font-weight: normal;
    src: local("Open Sans Light Italic"), url("~@/assets/theme/ursine/OpenSans-LightItalic.ttf") format("ttf");
  }

  @font-face {
    font-family: "Open Sans";
    font-style: normal;
    font-weight: bold;
    src: local("Open Sans SemiBold"), url("~@/assets/theme/ursine/OpenSans-SemiBold.ttf") format("ttf");
  }

  @font-face {
    font-family: "Open Sans";
    font-style: italic;
    font-weight: bold;
    src: local("Open Sans Italic"), url("~@/assets/theme/ursine/OpenSans-Italic.ttf") format("ttf");
  }

  // Roboto Slab provided by Christian Robertson
  // Downloaded from `https://fonts.google.com/specimen/Roboto+Slab`
  @font-face {
    font-family: "Roboto Slab";
    font-style: normal;
    font-weight: normal;
    src: local("Roboto Slab Extra Light"), url("~@/assets/theme/ursine/RobotoSlab-ExtraLight.ttf") format("ttf");
  }

  @font-face {
    font-family: "Roboto Slab";
    font-style: normal;
    font-weight: bold;
    src: local("Roboto Slab Regular"), url("~@/assets/theme/ursine/RobotoSlab-Regular.ttf") format("ttf");
  }
} @else { // Normal font-faces
  // Avenir Next LT Pro provided by Adrian Frutiger and Akira Kobayashi.
  // Downloaded from `https://www.cufonfonts.com/font/avenir-next-lt-pro`
  @font-face {
    font-family: 'Avenir Next LT Pro';
    font-style: normal;
    font-weight: normal;
    src: local('Avenir Next LT Pro Regular'), url('~@/assets/theme/ursine/AvenirNextLTPro-Regular.woff') format('woff');
  }

  @font-face {
    font-family: 'Avenir Next LT Pro';
    font-style: italic;
    font-weight: normal;
    src: local('Avenir Next LT Pro It'), url('~@/assets/theme/ursine/AvenirNextLTPro-Italic.woff') format('woff');
  }

  @font-face {
    font-family: 'Avenir Next LT Pro';
    font-style: normal;
    font-weight: bold;
    src: local('Avenir Next LT Pro Demi'), url('~@/assets/theme/ursine/AvenirNextLTPro-Demi.woff') format('woff');
  }

  @font-face {
    font-family: 'Avenir Next LT Pro';
    font-style: italic;
    font-weight: bold;
    src: local('Avenir Next LT Pro DemiIt'), url('~@/assets/theme/ursine/AvenirNextLTPro-DemiItalic.woff') format('woff');
  }

  // Adelle provided by Veronika Burian and Jos Scaglione
  // Downloaded from `https://www.cufonfonts.com/font/adelle`
  @font-face {
    font-family: 'Adelle';
    font-style: normal;
    font-weight: normal;
    src: local('Adelle Light'), url('~@/assets/theme/ursine/Adelle-Light.woff') format('woff');
  }

  @font-face {
    font-family: 'Adelle';
    font-style: italic;
    font-weight: normal;
    src: local('Adelle Light Italic'), url('~@/assets/theme/ursine/Adelle-LightItalic.woff') format('woff');
  }

  @font-face {
    font-family: 'Adelle';
    font-style: normal;
    font-weight: bold;
    src: local('Adelle SemiBold'), url('~@/assets/theme/ursine/Adelle-SemiBold.woff') format('woff');
  }

  @font-face {
    font-family: 'Adelle';
    font-style: italic;
    font-weight: bold;
    src: local('Adelle SemiBold Italic'), url('~@/assets/theme/ursine/Adelle-SemiBoldItalic.woff') format('woff');
  }
}

// Fira Mono provided by Carrois Apostrophe from Google Fonts
// Downloaded from `https://fonts.google.com/specimen/Fira+Mono`
@font-face {
  font-family: 'Fira Mono';
  font-style: normal;
  font-weight: normal;
  src: local('Fira Mono Regular'), url('~@/assets/theme/ursine/FiraMono-Regular.ttf') format('ttf');
}

@font-face {
  font-family: 'Fira Mono';
  font-style: normal;
  font-weight: bold;
  src: local('Fira Mono Bold'), url('~@/assets/theme/ursine/FiraMono-Bold.ttf') format('ttf');
}

// IMPORTS //

@import 'ursine/code-dracula';

// ROOT VARIABLES //

:root {
  --bg-color: #{$bg-color}; // background color
  --text-color: #{$text-color}; // text color
  --md-char-color: #{$md-char-color}; // color of meta characters (i.e. `*` in markdown)
  --meta-content-color: #{$meta-content-color}; // color of meta contents (i.e. image text or link address in markdown)
  --table-border-color: #{$md-char-color}; // color of table cell borders
  --select-text-bg-color: #{$selected-text-bg-color}; // background color for selected text

  --primary-color: #{$primary-color}; // primary color
  --primary-btn-border-color: #{$primary-btn-border-color}; // primary color for button borders
  --primary-btn-text-color: #{$text-color}; // text color for buttons

  --window-border: 1px solid #{$active-file-bg-color}; // border color for window and sidebar

  --active-file-bg-color: #{$active-file-bg-color}; // background color for active file in sidebar
  --active-file-text-color: inherit; // text color for selected file
  --active-file-border-color: #{$meta-content-color}; // border color for selected file
  --active-search-item-bg-color: #{$active-search-item-bg-color}; // background color for active search item

  --side-bar-bg-color: #{$sidebar-bg-color}; // sidebar background color
  --item-hover-bg-color: #{$item-hover-bg-color}; // background color of control items when hovering
  --item-hover-text-color: #{$item-hover-text-color}; // text color upon hovering over menu items
  --search-select-text-color: #{$text-color}; // text color for selected searched text
  --search-select-bg-color: #{$search-select-bg-color}; // background color for selected searched text
  --rawblock-edit-panel-bd: #{$accent-color}; // background color for inline HTML 'edit panel' blocks
  --monospace: #{$monospace-font}; // monospace font for code

  --node-fill: #{$mermaid-node-fill}; // Mermaid node fill color
  --node-border: #{$mermaid-node-border}; // Mermaid node border
}

// STYLING //

.blog {
  // Tags
  h1, h2, h3, h4, h5, h6 {
    font-family: unquote($header-font);
  }

  p {
    margin: .5rem 0;
  }

  a {
    color: $link-color;
  }

  del {
    color: $md-char-color;
  }

  mark {
    padding: 2px;
    background: $mark-color;
    color: inherit;
  }

  blockquote {
    position: relative;
    margin: 1rem 0 1rem 2rem;
    font-family: unquote($header-font);
    color: $quote-color;

    &::before {
      content: '';
      position: absolute;
      left: -2rem;
      height: 100%;
      width: .25rem;
      background: $primary-color;
    }
  }

  code,
  tt {
    font-family: unquote($monospace-font);
    font-size: 1rem;
  }

  code {
    font-size: .9em;
    border: 1px solid $code-border-color;
    border-radius: .25rem;
    padding: 1px .25rem;
    background: $code-bg-color;
  }

  kbd {
    font-family: unquote($monospace-font);
    font-size: .875rem;
    border: 2px solid $code-border-color;
    background: $kbd-bg-color;
    color: $text-color;
    box-shadow: none;
  }

  hr {
    border-color: $md-char-color;
  }

  table {
    border: 1px solid $md-char-color;
    margin: 1rem 0;

    tr:nth-child(2n) {
      background: $accent-color;
    }
  }

  thead {
    background: $table-head-color;
  }

  td, th {
    padding: .35rem .7rem;
    border: 1px solid $md-char-color;
  }
}

// Writing area
.blog {
  position: static;
  width: 90%;
  max-width: 700px;
  line-height: 1.6;

  transform: none; // Windows-specific fix

  h1, h2, h3, h4, h5, h6, p, pre {
    width: auto;
  }

  // Disable default header symbol where applicable (h3-h6)
  h3, h4, h5, h6 {
    &::before {
      display: none;
    }
  }

  // Headers
  h1, h2, h3, h4, h5, h6 {
    &::after {
      position: absolute;
      right: calc(100% + .75em);
      top: 0;
      color: $md-char-color;
      font-size: 1rem;
      font-weight: bold;
      font-variant: 'small-caps';
    }
  }

  h1 {
    font-size: 1.8rem;
    margin: 1rem 0;

    &::after {
      content: 'H1';
      top: .87rem;
    }
  }

  h2 {
    font-size: 1.4rem;
    margin: .7rem 0;

    &::after {
      content: 'H2';
      top: .43rem;
    }
  }

  h3 {
    font-size: 1.2rem;
    margin: .5rem 0;

    &::after {
      content: 'H3';
      top: .2rem;
    }
  }

  h4 {
    font-size: 1.1rem;
    margin: .2rem 0;

    &::after {
      content: 'H4';
      top: .07rem;
    }
  }

  h5, h6 {
    font-size: 1rem;
    margin: 0;
  }

  h5::after {
    content: 'H5';
  }

  h6::after {
    content: 'H6';
  }

  // Lists
  ol, ul {
    padding-left: 2rem;
    margin: .5rem 0;

    > li {
      //color: $primary-color;
      font-weight: bold;

      > * {
        color: $text-color;
        font-weight: normal;
      }

      > *:not(ol):not(ul) {
        padding-left: .25rem;
      }
    }
  }

  ul {
    list-style-type: disc;
  }

}
